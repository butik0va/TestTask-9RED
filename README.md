### Задание 1: Тест-кейсы
| ID  | Название | Предусловия | Шаги | Ожидаемый результат |
| ------------- | ------------- | ------------- | ------------- | ------------- |
| TK-1 | Успешная оплата без 3-D secure| <ol><li>Пользователь авторизован</li><li>Создан заказ со статусом "Ожидает оплаты"</li><li>Используется карта без 3-D secure</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести валидные данные карты</li><li>Нажать кнопку "Оплатить"</li></ol> | Валидация проходит успешно. Шлюз возвращает статус "Успешно". Статус заказа меняется на "Оплачен". Пользователю отображается результат оплаты. На email отправляется чек |
| TK-2 | Успешная оплата с 3-D secure | <ol><li>Пользователь авторизован</li><li>Создан заказ со статусом "Ожидает оплаты"</li><li>Используется карта c 3-D secure</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести валидные данные карты</li><li>Нажать кнопку "Оплатить"</li><li>Подтвердить оплату на странице 3-D secure</li></ol> | Валидация проходит успешно. Шлюз возвращает статус "Успешно". Статус заказа меняется на "Оплачен". Пользователю отображается результат оплаты. На email отправляется чек |
| TK-3 | Отказ в оплате (недостаточно средств) | <ol><li>Пользователь авторизован</li><li>Создан заказ со статусом "Ожидает оплаты"</li><li>Используется карта c балансом меньше суммы заказа</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести валидные данные карты</li><li>Нажать кнопку "Оплатить"</li></ol> | Шлюз возвращает статус "Отклонено банком". Статус заказа остается "Ожидает оплаты". Чек не отправляется |
| TK-4 | Сбой на стороне платежного шлюза при оплате | <ol><li>Пользователь авторизован</li><li>Создан заказ со статусом "Ожидает оплаты"</li><li>Смоделирована ошибка шлюза</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести валидные данные карты</li><li>Нажать кнопку "Оплатить"</li></ol> | Шлюз возвращает статус "Ошибка платежного сервиса". Статус заказа остается "Ожидает оплаты". Чек не отправляется |
| TK-5 | Оплата заблокированной картой | <ol><li>Пользователь авторизован</li><li>Создан заказ со статусом "Ожидает оплаты"</li><li>Используется заблокированная карта</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести валидные данные карты</li><li>Нажать кнопку "Оплатить"</li></ol> | Шлюз возвращает статус "Отклонено банком". Статус заказа остается "Ожидает оплаты". Чек не отправляется |
| TK-6 | Оплата картой с истекшим сроком действия | <ol><li>Пользователь авторизован</li><li>Создан заказ со статусом "Ожидает оплаты"</li><li>Используется карта с истекшим сроком действия</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести валидные данные карты</li><li>Нажать кнопку "Оплатить"</li></ol> | Шлюз возвращает статус "Отклонено банком". Статус заказа остается "Ожидает оплаты". Чек не отправляется |
| TK-7 | Оплата с неверным кодом CVV | <ol><li>Пользователь авторизован</li><li>Создан заказ со статусом "Ожидает оплаты"</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести валидные данные карты c некорректным кодом CVV</li><li>Нажать кнопку "Оплатить"</li></ol> | Шлюз возвращает статус "Отклонено банком". Статус заказа остается "Ожидает оплаты". Чек не отправляется |
| TK-8 | Невалидный формат номера карты | <ol><li>Пользователь авторизован</li><li>Создан заказ со статусом "Ожидает оплаты"</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести невалидные данные карты</li><li>Нажать кнопку "Оплатить"</li></ol> | Отображается ошибка валидации. Данные не отправляются в шлюз |
| TK-9 | Оплата с пустой формой | <ol><li>Пользователь авторизован</li><li>Создан заказ со статусом "Ожидает оплаты"</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Оставить поле для ввода данных карты пустым</li><li>Нажать кнопку "Оплатить"</li></ol> | Появляется подсветка обязательного поля. Выводится сообщение об ошибке. Статус заказа остается "Ожидает оплаты". Запрос в шлюз не отправляется |
| TK-10 | Оплата с минимальной допустимой суммой | <ol><li>Пользователь авторизован</li><li>Создан заказ на минимальную сумму - $100 со статусом "Ожидает оплаты"</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести валидные данные карты</li><li>Нажать кнопку "Оплатить"</li></ol> | Валидация проходит успешно. Шлюз возвращает статус "Успешно". Статус заказа меняется на "Оплачен". Пользователю отображается результат оплаты. На email отправляется чек |
| TK-11 | Оплата с суммой ниже минимальной допустимой | <ol><li>Пользователь авторизован</li><li>Создан заказ на сумму ниже минимальной (например, $99.99) со статусом "Ожидает оплаты"</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести валидные данные карты</li><li>Нажать кнопку "Оплатить"</li></ol> | Отображается сообщение о минимальной допустимой сумме заказа. Статус заказа остается "Ожидает оплаты". Запрос в шлюз не отправляется |
| TK-12 | Оплата картой, срок которой истекает в текущем месяце | <ol><li>Пользователь авторизован</li><li>Создан заказ со статусом "Ожидает оплаты"</li><li>Используется карта, срок которой истекает в текущем месяце</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести валидные данные карты</li><li>Нажать кнопку "Оплатить"</li></ol> | Валидация проходит успешно. Шлюз возвращает статус "Успешно". Статус заказа меняется на "Оплачен". Пользователю отображается результат оплаты. На email отправляется чек |
| TK-13 | Корректность передачи суммы заказа в шлюз | <ol><li>Пользователь авторизован</li><li>Создан заказ со статусом "Ожидает оплаты"</li><li>Включено логирование запросов</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести валидные данные карты</li><li>Нажать кнопку "Оплатить"</li></ol> | В запросе передана корректная сумма заказа |
| TK-14 | Повторная отправка идентичного запроса (идемпотентность) | <ol><li>Пользователь авторизован</li><li>Создан заказ со статусом "Ожидает оплаты"</li></ol> | <ol><li>Перейти на страницу оплаты</li><li>Ввести валидные данные карты</li><li>Нажать кнопку "Оплатить" </li><li>Повторно отправить тот же запрос</li></ol> | Валидация проходит успешно. Платеж проводится один раз. Не создается дублирующая транзакция. Шлюз возвращает статус "Успешно". Статус заказа меняется на "Оплачен". Пользователю отображается результат оплаты. На email отправляется чек |

### Задание 2 в файлах выше

### Задание 3: Теория вероятности  
Сначала узнаем все возможные исходы:    
РРР ООО  
РОО ОРР  
РРО ООР  
РОР ОРО  
Благоприятных исходов по условию получилось: 3  
Вычисляем вероятность по формуле: P(A) = m/n (где m = число благоприятных исходов, а n = число всех возможных исходов)  
3 / 8 = 0.375  
Ответ: 0.375 (или 37.5%)  
